<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Petrona:wght@400;700&display=swap" rel="stylesheet">
    <title>Cadastro - ReviveAI</title>
</head>
<body>
    <div class="container">
        <a href="boasvindas.html" class="voltar" onclick="history.back();"> <img src="voltar.png" alt=></a>

        <div class="logo">
            <img src="logo_versao01_preenchida.png" alt="Logo ReviveAI">
        </div>    
  
<form id="formulario" action="inicio.html" method="POST">
<label for="cep">CEP</label>
<input type="text" id="cep" placeholder="Digite seu CEP" required>
<label for="rua">RUA</label>
<input type="text" id="rua" placeholder="Digite sua rua" required>
<label for="numero">N√öMERO</label>
<input type="text" id="numero" placeholder="Digite seu n√∫mero" required>
<label for="bairro">BAIRRO</label>
<input type="text" id="bairro" placeholder="Digite seu bairro" required>
<label for="cidade">CIDADE</label>
<input type="text" id="cidade" placeholder="Digite sua cidade" required>
<label for="estado">ESTADO</label>
<input type="text" id="estado" placeholder="Digite a UF do seu stado" required maxlength="2">
<label for="email">EMAIL</label>
<input type="email" id="email" placeholder="Digite seu E-mail" required>
<label for="senha">SENHA</label>
<input type="password" id="senha" placeholder="Digite sua senha" required>
<label for="nome">NOME</label>
<input type="text" id="nome" placeholder="Digite seu nome" required>
<label for="telefone">TELEFONE</label>
<input type="tel" id="telefone" placeholder="Digite seu telefone" required>
<label for="data-nascimento">DATA DE NASCIMENTO</label>
<input type="date" id="data-nascimento" placeholder="" required>

    <a href="inicio.html" class="btn">Cadastrar</a>

</form>
</div>
    </div>
    <style>
        body {
    font-family: 'Petrona', serif;
}

    * {
        font-family: 'Petrona', serif;
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }
    
    body {
    margin: 0;
    padding: 40px 0 0 0; /* Adiciona espa√ßo no topo */
    font-family: Arial, sans-serif; /* opcional para melhorar visual */
    background-color: #f0f0f0; /* opcional para contraste */
    display: flex;
    justify-content: center;
    }
    
    .container {
        background-color: #acd7f2;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        width: 90%; /* Responsivo */
        max-width: 400px;
    }
    
    img {
        width: 150px;
        }
    form {
        display: flex;
        flex-direction: column;
    }
    
    label {
        margin: 10px 0 5px;
        color: #000000; /* Alterar conforme necess√°rio */
    }
    
    input {
        padding: 10px;
        border: 1px solid #000000;
        border-radius: 5px;
    }
    
    input:focus {
        border-color: #ACD7F2; /* Cor ao focar */
    }
    
    .btn {
      display: block;
      background: #192710;
      margin: 10px;
      padding: 10px;
      border: none;
      border-radius: 5px;
      font-size: 1.1rem;
      font-weight: bold;
      color: rgb(255, 255, 255);
      text-decoration: none;
      transition: 0.3s;
      text-align: center;
    }
    .btn:hover {
      background: #45a049;
      transform: scale(1.05);
    }
    .logo {
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 20px; 
    }
                .voltar {
        align-self: flex-start;
        margin-bottom: 20px;
        color: #ACD7F2;
        padding: 8px 12px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 10px;
        text-decoration: none;
    }
    .voltar img{
        width: 20px;
        height: 20px;
    }
</style>
<script>
document.addEventListener("DOMContentLoaded", function () {
    const form = document.getElementById("formulario");
    const cepInput = document.getElementById("cep");
    const telefoneInput = document.getElementById("telefone");
    const emailInput = document.getElementById("email");

    // ‚òéÔ∏è M√°scara para telefone
    telefoneInput.addEventListener("input", function (e) {
        let value = e.target.value.replace(/\D/g, "");
        if (value.length > 11) value = value.slice(0, 11);

        if (value.length > 10) {
            value = value.replace(/(\d{2})(\d{5})(\d{4})/, "($1) $2-$3");
        } else if (value.length > 6) {
            value = value.replace(/(\d{2})(\d{4})(\d{0,4})/, "($1) $2-$3");
        } else if (value.length > 2) {
            value = value.replace(/(\d{2})(\d{0,5})/, "($1) $2");
        } else {
            value = value.replace(/(\d*)/, "($1");
        }

        e.target.value = value;
    });

    // üè† Preenchimento autom√°tico do endere√ßo via ViaCEP
    cepInput.addEventListener("blur", function () {
        const cep = cepInput.value.replace(/\D/g, '');

        if (cep.length !== 8) {
            alert("CEP inv√°lido! Digite 8 n√∫meros.");
            return;
        }

        fetch(`https://viacep.com.br/ws/${cep}/json/`)
            .then(res => res.json())
            .then(data => {
                if (!("erro" in data)) {
                    // Preenche apenas se os campos existirem no HTML
                    if (document.getElementById("rua")) document.getElementById("rua").value = data.logradouro || '';
                    if (document.getElementById("bairro")) document.getElementById("bairro").value = data.bairro || '';
                    if (document.getElementById("cidade")) document.getElementById("cidade").value = data.localidade || '';
                    if (document.getElementById("estado")) document.getElementById("estado").value = data.uf || '';
                } else {
                    alert("CEP n√£o encontrado.");
                }
            })
            .catch(() => {
                alert("Erro ao buscar o CEP.");
            });
    });

    // üì§ Valida√ß√£o completa ao enviar o formul√°rio
    form.addEventListener("submit", async function (e) {
        e.preventDefault(); // Bloqueia envio at√© validar tudo

        const camposObrigatorios = [
            "cep", "email", "senha", "nome", "telefone", "data-nascimento",
            "rua", "numero", "bairro", "cidade", "estado"
        ];

        const camposVazios = camposObrigatorios.filter(id => {
            const el = document.getElementById(id);
            return el && !el.value.trim();
        });

        if (camposVazios.length > 0) {
            alert("Por favor, preencha todos os campos obrigat√≥rios.");
            return;
        }

        // üìß Valida√ß√£o do e-mail
        const emailValido = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(emailInput.value);
        if (!emailValido) {
            alert("E-mail inv√°lido!");
            return;
        }

        // ‚òéÔ∏è Valida√ß√£o do telefone
        const telefoneValido = /^\(\d{2}\)\s?\d{4,5}-\d{4}$/.test(telefoneInput.value);
        if (!telefoneValido) {
            alert("Telefone inv√°lido! Use o formato (99) 99999-9999 ou (99) 9999-9999");
            return;
        }

        // üè† Valida√ß√£o do CEP com a API ViaCEP
        const cep = cepInput.value.replace(/\D/g, '');
        if (cep.length !== 8) {
            alert("CEP inv√°lido! Deve conter 8 d√≠gitos.");
            return;
        }

        try {
            const res = await fetch(`https://viacep.com.br/ws/${cep}/json/`);
            const data = await res.json();
            if ("erro" in data) {
                alert("CEP n√£o encontrado!");
                return;
            }

            // ‚úÖ Tudo certo ‚Äî envia o formul√°rio
            form.submit();

        } catch (error) {
            alert("Erro ao validar o CEP.");
            console.error(error);
        }
    });
});
</script>

</body>
</html> 
